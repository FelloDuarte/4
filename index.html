<html>
  <head>
	<meta name="viewport" content="user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1,width=device-width">
	<script src="//cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.6/p5.js"></script>
	

	<style type="text/css">
  		body {
    			margin:0px;
		}
  	</style>
  </head>
  <body>
  
    
<script>

var x, y,width,height, offsetX,offsetY,rx,arx,ry,ary;
var filas=6;
var columnas=4;
var radio=20;

function setup() {
	
	width=displayWidth;
	height=displayHeight*0.8;
	createCanvas(width, height);
	offsetX = width/columnas/2;
	offsetY= height/filas/2;
	
	
	
}	
	
	
function draw() {
	background(0,0,40);
	
	for(var i=0; i<columnas;i++){
		for (var j=0;j<filas;j++){
			
		var ix =offsetX+i*width/columnas;
		rx=map(rotationY,-180,180,0,width);
		arx=map(rotationY,-180,180,-(width/columnas),width/columnas);
		arx=arx*(abs(rx-ix)/width)*columnas;
		ix = ix-arx;
		
		var jy =offsetX+j*height/filas;
		ry=map(rotationX,-180,180,0,height);
		ary=map(rotationX,-180,180,-(height/filas),height/filas);
		ary=ary*(abs(ry-jy)/height)*filas;	
		jy = jy-ary;
			
		noStroke();
		fill(random(150,200),random(150,200),random(150,200));
   		ellipse(ix,jy,radio,radio);
			
			
   		 }
	}

}
	


	

</script>
  </body>
</html>
